{"ast":null,"code":"import _classCallCheck from \"/Users/yves/Software-Dev/NoService-Account/noservice-account/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yves/Software-Dev/NoService-Account/noservice-account/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yves/Software-Dev/NoService-Account/noservice-account/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yves/Software-Dev/NoService-Account/noservice-account/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yves/Software-Dev/NoService-Account/noservice-account/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/yves/Software-Dev/NoService-Account/noservice-account/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _defineProperty from \"/Users/yves/Software-Dev/NoService-Account/noservice-account/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/yves/Software-Dev/NoService-Account/noservice-account/src/App/index.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Route, Link, Redirect, Switch } from \"react-router-dom\"; // Flux\n\nimport Flux from '../flux';\nimport Localizes from '../flux/data/localizes.json';\nimport { HomePage } from '../components/HomePage';\nimport { SigninPage, PasswordPage } from '../components/NoService';\nimport { withStyles } from '@material-ui/core/styles';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport Divider from '@material-ui/core/Divider';\nimport Avatar from '@material-ui/core/Avatar';\nimport Hidden from '@material-ui/core/Hidden'; // card\n\nimport { Card, CardContent, CardActions } from '@material-ui/core/'; // color\n\nimport blue from '@material-ui/core/colors/blue'; // list\n\nimport { List, ListItem, ListItemIcon, ListItemText, ListItemAvatar } from '@material-ui/core/'; // icons\n\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AccountIcon from '@material-ui/icons/AccountCircle';\nimport CodeIcon from '@material-ui/icons/Code';\nimport HomeIcon from '@material-ui/icons/Home';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\nvar CONSTANTS = require('../flux/constants.json');\n\nvar ROOT_PATH = CONSTANTS.settings.root_path;\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      flexGrow: 1\n    },\n    headerBar: {\n      backgroundColor: \"white\",\n      boxShadow: \"none\"\n    },\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20\n    },\n    title: {\n      display: 'block'\n    },\n    drawerList: {\n      width: 250\n    },\n    homeCard: {\n      width: \"100%\",\n      display: \"inline-block\",\n      marginTop: 5,\n      marginBottom: 15,\n      verticalAlign: \"top\"\n    },\n    homeCardWrapper: _defineProperty({\n      columnCount: 2,\n      columnGap: 20,\n      padding: \"0 20px\"\n    }, theme.breakpoints.down('sm'), {\n      columnCount: 1\n    })\n  };\n};\n\nvar theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: blue[500]\n    },\n    // Purple and green play nicely together.\n    secondary: {\n      main: '#11cb5f'\n    } // This is just green.A700 as hex.\n\n  },\n  typography: {\n    useNextVariants: true\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20\n  }\n});\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.toggleDrawer = function (bool) {\n      return function () {\n        _this.setState({\n          DrawerOpened: bool\n        });\n      };\n    };\n\n    _this.controller = new Flux(_this.setState.bind(_assertThisInitialized(_assertThisInitialized(_this))));\n    _this.actions = _this.controller.Actions;\n    _this.state = {\n      lang: 'en',\n      localizes: Localizes,\n      DrawerOpened: false,\n      UserMeta: {}\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.controller.NoService.getImplementationModule(function (err, NSimplementation) {\n        _this2.actions.log('NoService', 'Connecting to NOOXY service.');\n\n        NSimplementation.setImplement('signin', function (connprofile, data, data_sender) {\n          _this2.actions.log('NoService Auth', 'NOOXY service signin emitted.');\n\n          _this2.history.push('/noservice/signin');\n        });\n        NSimplementation.setImplement('AuthbyPassword', function (connprofile, data, data_sender) {\n          _this2.actions.log('NoService Auth', 'NOOXY service Authby Password emitted.');\n\n          _this2.history.push('/noservice/password?authtoken=' + data.d.t);\n        });\n\n        _this2.controller.start(function () {\n          console.log('background started.');\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var classes = this.props.classes;\n      var sideList = React.createElement(\"div\", {\n        className: classes.drawerList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        button: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        primary: 'NoService ' + this.state.localizes[this.state.lang].account,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      })), React.createElement(ListItem, {\n        button: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(ListItemAvatar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"M\")), React.createElement(ListItemText, {\n        primary: this.state.UserMeta.username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      })), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(ListItem, {\n        button: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(HomeIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: this.state.localizes[this.state.lang].home,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(ListItem, {\n        button: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(AccountIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: this.state.localizes[this.state.lang].edit_my_account,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      })), React.createElement(ListItem, {\n        button: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(ExitToAppIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: this.state.localizes[this.state.lang].sign_out,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      })), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        button: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(CodeIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: this.state.localizes[this.state.lang].noshell,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }))));\n      return React.createElement(Router, {\n        basename: ROOT_PATH,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(MuiThemeProvider, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: ':url(.*)',\n        render: function render(props) {\n          _this3.history = props.history;\n          return React.createElement(\"div\", {\n            className: classes.root,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174\n            },\n            __self: this\n          }, React.createElement(AppBar, {\n            className: classes.headerBar,\n            position: \"static\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          }, React.createElement(Toolbar, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176\n            },\n            __self: this\n          }, React.createElement(IconButton, {\n            className: classes.menuButton,\n            \"aria-label\": \"Open drawer\",\n            onClick: _this3.toggleDrawer(true),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 177\n            },\n            __self: this\n          }, React.createElement(MenuIcon, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 178\n            },\n            __self: this\n          })), React.createElement(Typography, {\n            className: classes.title,\n            variant: \"h6\",\n            component: \"h1\",\n            noWrap: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 180\n            },\n            __self: this\n          }, 'NoService ' + _this3.state.localizes[_this3.state.lang].account))), React.createElement(Hidden, {\n            smUp: true,\n            implementation: \"css\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 185\n            },\n            __self: this\n          }, React.createElement(SwipeableDrawer, {\n            open: _this3.state.DrawerOpened,\n            onClose: _this3.toggleDrawer(false),\n            onOpen: _this3.toggleDrawer(true),\n            variant: \"temporary\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 186\n            },\n            __self: this\n          }, sideList)), React.createElement(Hidden, {\n            smUp: true,\n            implementation: \"css\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 195\n            },\n            __self: this\n          }, React.createElement(SwipeableDrawer, {\n            open: _this3.state.DrawerOpened,\n            onClose: _this3.toggleDrawer(false),\n            onOpen: _this3.toggleDrawer(true),\n            variant: \"temporary\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 196\n            },\n            __self: this\n          }, sideList)), React.createElement(Switch, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 205\n            },\n            __self: this\n          }, React.createElement(Route, {\n            exact: true,\n            path: \"/\",\n            render: function render() {\n              return React.createElement(Redirect, {\n                to: \"/home/\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 207\n                },\n                __self: this\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206\n            },\n            __self: this\n          }), React.createElement(Route, {\n            exact: true,\n            path: \"/home/\",\n            render: function render(props) {\n              return React.createElement(HomePage, {\n                user_meta: _this3.state.UserMeta,\n                localize: _this3.state.localizes[_this3.state.lang],\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 211\n                },\n                __self: this\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 209\n            },\n            __self: this\n          }), React.createElement(Route, {\n            exact: true,\n            path: \"/noservice/signin\",\n            render: function render(props) {\n              return React.createElement(SigninPage, {\n                SignupURL: \"\",\n                NSc: _this3.controller.NoService,\n                onFinish: function onFinish() {\n                  window.location.replace(ROOT_PATH);\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 216\n                },\n                __self: this\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214\n            },\n            __self: this\n          }), React.createElement(Route, {\n            exact: true,\n            path: \"/noservice/password\",\n            render: function render(props) {\n              return React.createElement(PasswordPage, {\n                NSc: _this3.controller.NoService,\n                onFinish: props.history.goBack,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 221\n                },\n                __self: this\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 219\n            },\n            __self: this\n          })));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default withStyles(styles)(App);","map":{"version":3,"sources":["/Users/yves/Software-Dev/NoService-Account/noservice-account/src/App/index.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","Redirect","Switch","Flux","Localizes","HomePage","SigninPage","PasswordPage","withStyles","MuiThemeProvider","createMuiTheme","Button","AppBar","Toolbar","IconButton","Typography","SwipeableDrawer","Divider","Avatar","Hidden","Card","CardContent","CardActions","blue","List","ListItem","ListItemIcon","ListItemText","ListItemAvatar","MenuIcon","AccountIcon","CodeIcon","HomeIcon","ExitToAppIcon","CONSTANTS","require","ROOT_PATH","settings","root_path","styles","theme","root","flexGrow","headerBar","backgroundColor","boxShadow","menuButton","marginLeft","marginRight","title","display","drawerList","width","homeCard","marginTop","marginBottom","verticalAlign","homeCardWrapper","columnCount","columnGap","padding","breakpoints","down","palette","primary","main","secondary","typography","useNextVariants","App","props","toggleDrawer","bool","setState","DrawerOpened","controller","bind","actions","Actions","state","lang","localizes","UserMeta","NoService","getImplementationModule","err","NSimplementation","log","setImplement","connprofile","data","data_sender","history","push","d","t","start","console","classes","sideList","account","username","home","edit_my_account","sign_out","noshell","window","location","replace","goBack"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\nimport { BrowserRouter as Router, Route, Link, Redirect, Switch } from \"react-router-dom\";\n\n// Flux\nimport Flux from '../flux'\nimport Localizes from '../flux/data/localizes.json'\n\nimport {HomePage} from '../components/HomePage';\nimport {SigninPage, PasswordPage} from '../components/NoService';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport Divider from '@material-ui/core/Divider';\nimport Avatar from '@material-ui/core/Avatar';\nimport Hidden from '@material-ui/core/Hidden';\n\n// card\nimport {Card, CardContent, CardActions} from '@material-ui/core/';\n\n// color\nimport blue from '@material-ui/core/colors/blue';\n\n// list\nimport {List, ListItem, ListItemIcon, ListItemText, ListItemAvatar} from '@material-ui/core/';\n\n// icons\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AccountIcon from '@material-ui/icons/AccountCircle';\nimport CodeIcon from '@material-ui/icons/Code';\nimport HomeIcon from '@material-ui/icons/Home';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\nconst CONSTANTS = require('../flux/constants.json');\nconst ROOT_PATH = CONSTANTS.settings.root_path;\n\n\nconst styles = theme=> ({\n  root: {\n    flexGrow: 1,\n  },\n  headerBar: {\n    backgroundColor: \"white\",\n    boxShadow: \"none\"\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n  title: {\n    display: 'block'\n  },\n\n  drawerList: {\n    width: 250,\n  },\n\n  homeCard: {\n    width: \"100%\",\n    display: \"inline-block\",\n    marginTop: 5,\n    marginBottom: 15,\n    verticalAlign: \"top\",\n  },\n\n  homeCardWrapper: {\n    columnCount: 2,\n    columnGap: 20,\n    padding: \"0 20px\",\n    [theme.breakpoints.down('sm')]: {\n     columnCount: 1,\n   },\n  }\n})\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: { main: blue[500] }, // Purple and green play nicely together.\n    secondary: { main: '#11cb5f' }, // This is just green.A700 as hex.\n  },\n\n  typography: { useNextVariants: true },\n\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  }\n\n});\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.controller = new Flux(this.setState.bind(this));\n    this.actions = this.controller.Actions;\n    this.state= {\n      lang: 'en',\n      localizes: Localizes,\n      DrawerOpened: false,\n      UserMeta: {}\n    }\n  }\n\n  componentDidMount() {\n    this.controller.NoService.getImplementationModule((err, NSimplementation)=>{\n      this.actions.log('NoService', 'Connecting to NOOXY service.');\n      NSimplementation.setImplement('signin', (connprofile, data, data_sender)=>{\n        this.actions.log('NoService Auth', 'NOOXY service signin emitted.');\n        this.history.push('/noservice/signin');\n      });\n      NSimplementation.setImplement('AuthbyPassword', (connprofile, data, data_sender) => {\n        this.actions.log('NoService Auth', 'NOOXY service Authby Password emitted.');\n        this.history.push('/noservice/password?authtoken='+data.d.t);\n      });\n      this.controller.start(()=> {\n        console.log('background started.');\n      });\n    });\n  }\n\n  toggleDrawer = (bool)=> ()=> {\n    this.setState({DrawerOpened: bool});\n  }\n\n  render() {\n    const {classes} = this.props;\n\n    const sideList = (\n      <div className={classes.drawerList}>\n        <ListItem button>\n          <ListItemText primary={'NoService '+this.state.localizes[this.state.lang].account}/>\n        </ListItem>\n        <ListItem button>\n          <ListItemAvatar><Avatar>M</Avatar></ListItemAvatar>\n          <ListItemText primary={this.state.UserMeta.username} />\n        </ListItem>\n        <Divider />\n        <ListItem button>\n          <ListItemIcon><HomeIcon/></ListItemIcon>\n          <ListItemText primary={this.state.localizes[this.state.lang].home} />\n        </ListItem>\n        <ListItem button>\n          <ListItemIcon><AccountIcon/></ListItemIcon>\n          <ListItemText primary={this.state.localizes[this.state.lang].edit_my_account} />\n        </ListItem>\n        <ListItem button>\n          <ListItemIcon><ExitToAppIcon/></ListItemIcon>\n          <ListItemText primary={this.state.localizes[this.state.lang].sign_out} />\n        </ListItem>\n        <Divider />\n        <List>\n          <ListItem button>\n            <ListItemIcon><CodeIcon/></ListItemIcon>\n            <ListItemText primary={this.state.localizes[this.state.lang].noshell} />\n          </ListItem>\n        </List>\n      </div>\n    )\n\n    return (\n      <Router basename={ROOT_PATH}>\n        <MuiThemeProvider theme={theme}>\n        <Route exact path={':url(.*)'} render={(props)=>{\n          this.history = props.history;\n          return(\n            <div className={classes.root}>\n              <AppBar className={classes.headerBar} position=\"static\">\n                <Toolbar>\n                  <IconButton className={classes.menuButton} aria-label=\"Open drawer\" onClick={this.toggleDrawer(true)}>\n                    <MenuIcon />\n                  </IconButton>\n                  <Typography className={classes.title} variant=\"h6\" component=\"h1\" noWrap>\n                    {'NoService '+this.state.localizes[this.state.lang].account}\n                  </Typography>\n                </Toolbar>\n              </AppBar>\n              <Hidden smUp implementation=\"css\">\n                <SwipeableDrawer\n                 open={this.state.DrawerOpened}\n                 onClose={this.toggleDrawer(false)}\n                 onOpen={this.toggleDrawer(true)}\n                 variant=\"temporary\"\n                >\n                   {sideList}\n                </SwipeableDrawer>\n              </Hidden>\n              <Hidden smUp implementation=\"css\">\n                <SwipeableDrawer\n                 open={this.state.DrawerOpened}\n                 onClose={this.toggleDrawer(false)}\n                 onOpen={this.toggleDrawer(true)}\n                 variant=\"temporary\"\n                >\n                   {sideList}\n                </SwipeableDrawer>\n              </Hidden>\n              <Switch>\n                <Route exact path=\"/\" render={() => {\n                  return(<Redirect to=\"/home/\"/>)\n                }}/>\n                <Route exact path=\"/home/\" render={(props)=>{\n                  return(\n                    <HomePage user_meta={this.state.UserMeta} localize={this.state.localizes[this.state.lang]}/>\n                  );\n                }}/>\n                <Route exact path='/noservice/signin' render={(props)=>{\n                  return(\n                    <SigninPage SignupURL={\"\"} NSc={this.controller.NoService} onFinish={()=>{window.location.replace(ROOT_PATH);}}/>\n                  );\n                }}/>\n                <Route exact path='/noservice/password' render={(props)=>{\n                  return(\n                    <PasswordPage NSc={this.controller.NoService} onFinish={props.history.goBack}/>\n                  );\n                }}/>\n              </Switch>\n            </div>\n          );\n        }}/>\n\n        </MuiThemeProvider>\n      </Router>\n    );\n  }\n}\n\nexport default withStyles(styles)(App);\n"]},"metadata":{},"sourceType":"module"}