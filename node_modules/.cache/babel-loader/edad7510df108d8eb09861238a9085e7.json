{"ast":null,"code":"import _classCallCheck from \"/Users/yves/Software-Dev/NoService-Account/noservice-account/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yves/Software-Dev/NoService-Account/noservice-account/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yves/Software-Dev/NoService-Account/noservice-account/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yves/Software-Dev/NoService-Account/noservice-account/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yves/Software-Dev/NoService-Account/noservice-account/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yves/Software-Dev/NoService-Account/noservice-account/src/components/NoService/NScReact.js\";\n// NScReact.js\n// Description:\n// \"NScReact.js\" NOOXY Service client Reactjs components.\n// Copyright 2018 NOOXY. All Rights Reserved.\nimport React, { Component } from 'react';\nimport './NScReact.css';\n\nvar getQueryVariable = function getQueryVariable(variable) {\n  var query = window.location.search.substring(1);\n  var vars = query.split(\"&\");\n\n  for (var i = 0; i < vars.length; i++) {\n    var pair = vars[i].split(\"=\");\n\n    if (pair[0] === variable) {\n      return pair[1];\n    }\n  }\n\n  return false;\n};\n\nvar setCookie = function setCookie(cname, cvalue, exdays) {\n  var d = new Date();\n  d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n  var expires = \"expires=\" + d.toUTCString();\n  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n};\n\nexport var SigninPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SigninPage, _Component);\n\n  function SigninPage(props) {\n    var _this;\n\n    _classCallCheck(this, SigninPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SigninPage).call(this, props));\n    _this.state = {\n      password: null,\n      username: null,\n      status: \"In order to access this service. You must signin into your account.\"\n    };\n    _this.onFinish = props.onFinish;\n\n    _this.Signin = function () {\n      try {\n        _this.props.NSc.getImplementationModule(function (err, implement_module) {\n          implement_module.getDefaultClientConnProfile(function (err, connprofile) {\n            var _data = {\n              u: _this.state.username,\n              p: _this.state.password\n            };\n            implement_module.returnImplement('setUser')(false, _data.u);\n            implement_module.setImplement('onToken', function (err, token) {\n              if (token) {\n                setCookie('NSToken', token, 7);\n                setTimeout(_this.props.onFinish, 500);\n              } else {\n                _this.setState({\n                  status: 'Wrong username or password!'\n                });\n              }\n            });\n            implement_module.emitRequest(connprofile, 'GT', _data);\n          });\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SigninPage, [{\n    key: \"updatePasswordInputValue\",\n    value: function updatePasswordInputValue(evt) {\n      this.setState({\n        password: evt.target.value\n      });\n    }\n  }, {\n    key: \"updateUsernameInputValue\",\n    value: function updateUsernameInputValue(evt) {\n      this.setState({\n        username: evt.target.value\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.username.focus();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"NoService-Page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row-Text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Signing in\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \" \", this.state.status)))), React.createElement(\"div\", {\n        className: \"NoService-Page-Block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row-Text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"input\", {\n        ref: function ref(input) {\n          _this2.username = input;\n        },\n        onChange: function onChange(evt) {\n          return _this2.updateUsernameInputValue(evt);\n        },\n        placeholder: \"Enter your NOOXY username\",\n        className: \"ChPage-Sender-Input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"NoService-Page-Row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row-Text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        onKeyPress: function onKeyPress(event) {\n          if (event.key == 'Enter') {\n            _this2.Signin();\n          }\n        },\n        onChange: function onChange(evt) {\n          return _this2.updatePasswordInputValue(evt);\n        },\n        placeholder: \"Enter your NOOXY password\",\n        className: \"ChPage-Sender-Input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"NoService-Page-Block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row\",\n        onClick: this.Signin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row-Text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Done\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \" \", \"sign me in\"))), React.createElement(\"a\", {\n        href: this.props.SignupURL,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row-Text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Siginup\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \" \", \"Signup a NoService account\"))))));\n    }\n  }]);\n\n  return SigninPage;\n}(Component);\nexport var PasswordPage =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(PasswordPage, _Component2);\n\n  function PasswordPage(props) {\n    var _this3;\n\n    _classCallCheck(this, PasswordPage);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(PasswordPage).call(this, props));\n    _this3.state = {\n      password: null\n    };\n\n    _this3.Signin = function () {\n      _this3.props.NSc.getImplementationModule(function (err, implement_module) {\n        implement_module.getDefaultClientConnProfile(function (err, connprofile) {\n          var _data = {\n            m: 'PW',\n            d: {\n              t: getQueryVariable('authtoken'),\n              v: _this3.state.password\n            }\n          };\n          implement_module.sendRouterData(connprofile, 'AU', 'rs', _data);\n          setTimeout(_this3.props.onFinish, 500);\n        });\n      });\n    };\n\n    return _this3;\n  }\n\n  _createClass(PasswordPage, [{\n    key: \"updatePasswordInputValue\",\n    value: function updatePasswordInputValue(evt) {\n      this.setState({\n        password: evt.target.value\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.password.focus();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        className: \"NoService-Page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row-Text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Enter your Password\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \" \", \"In order to access this service. You must enter your password of your account.\")))), React.createElement(\"div\", {\n        className: \"NoService-Page-Block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row-Text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, this.props.NSc.returnUserName() ? this.props.NSc.returnUserName() : 'null'))), React.createElement(\"div\", {\n        className: \"NoService-Page-Row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row-Text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        ref: function ref(input) {\n          _this4.password = input;\n        },\n        onKeyPress: function onKeyPress(event) {\n          if (event.key == 'Enter') {\n            _this4.Signin();\n          }\n        },\n        type: \"password\",\n        onChange: function onChange(evt) {\n          return _this4.updatePasswordInputValue(evt);\n        },\n        placeholder: \"Enter your NOOXY password\",\n        className: \"ChPage-Sender-Input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"NoService-Page-Block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row\",\n        onClick: this.Signin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"NoService-Page-Row-Text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Done\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \" \", \"This is my password.\")))));\n    }\n  }]);\n\n  return PasswordPage;\n}(Component);","map":{"version":3,"sources":["/Users/yves/Software-Dev/NoService-Account/noservice-account/src/components/NoService/NScReact.js"],"names":["React","Component","getQueryVariable","variable","query","window","location","search","substring","vars","split","i","length","pair","setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","SigninPage","props","state","password","username","status","onFinish","Signin","NSc","getImplementationModule","err","implement_module","getDefaultClientConnProfile","connprofile","_data","u","p","returnImplement","setImplement","token","setTimeout","setState","emitRequest","e","console","log","evt","target","value","focus","input","updateUsernameInputValue","event","key","updatePasswordInputValue","SignupURL","PasswordPage","m","t","v","sendRouterData","returnUserName"],"mappings":"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","sourcesContent":["// NScReact.js\n// Description:\n// \"NScReact.js\" NOOXY Service client Reactjs components.\n// Copyright 2018 NOOXY. All Rights Reserved.\n\nimport React, { Component } from 'react';\nimport './NScReact.css';\n\nconst getQueryVariable = (variable)=>\n{\n       let query = window.location.search.substring(1);\n       let vars = query.split(\"&\");\n       for (let i=0;i<vars.length;i++) {\n               let pair = vars[i].split(\"=\");\n               if(pair[0] === variable){return pair[1];}\n       }\n       return(false);\n}\n\nconst setCookie = (cname, cvalue, exdays)=> {\n  let d = new Date();\n  d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n  let expires = \"expires=\"+d.toUTCString();\n  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\n\nexport class SigninPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      password: null,\n      username: null,\n      status: \"In order to access this service. You must signin into your account.\"\n    };\n    this.onFinish = props.onFinish;\n\n    this.Signin = ()=>{\n      try{\n        this.props.NSc.getImplementationModule((err, implement_module)=>{\n          implement_module.getDefaultClientConnProfile((err, connprofile) => {\n            let _data = {\n              u: this.state.username,\n              p: this.state.password\n            }\n            implement_module.returnImplement('setUser')(false, _data.u);\n            implement_module.setImplement('onToken', (err, token)=>{\n              if(token) {\n                setCookie('NSToken', token, 7);\n                setTimeout(this.props.onFinish, 500);\n              }\n              else {\n                this.setState({status:'Wrong username or password!'});\n              }\n            });\n            implement_module.emitRequest(connprofile, 'GT', _data);\n\n          });\n        });\n      }\n      catch(e) {\n        console.log(e);\n      }\n\n    };\n  }\n\n  updatePasswordInputValue(evt) {\n    this.setState({\n      password: evt.target.value\n    });\n  }\n\n  updateUsernameInputValue(evt) {\n    this.setState({\n      username: evt.target.value\n    });\n  }\n\n  componentDidMount(){\n    this.username.focus();\n  }\n\n  render() {\n    return(\n      <div className=\"NoService-Page\">\n        <div className=\"NoService-Page-Block\">\n          <div className=\"NoService-Page-Row\">\n            <div className=\"NoService-Page-Row-Text\">\n              <h1>{\"Signing in\"}</h1>\n              <p> {this.state.status}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"NoService-Page-Block\">\n          <div className=\"NoService-Page-Row\">\n            <div className=\"NoService-Page-Row-Text\">\n              <h2>{\"Username\"}</h2>\n              <input ref={(input) => { this.username = input; }}  onChange={evt => this.updateUsernameInputValue(evt)} placeholder=\"Enter your NOOXY username\" className=\"ChPage-Sender-Input\"></input>\n            </div>\n          </div>\n          <div className=\"NoService-Page-Row\">\n            <div className=\"NoService-Page-Row-Text\">\n              <h2>{\"Password\"}</h2>\n              <input type=\"password\" onKeyPress={(event)=> {\n                if(event.key == 'Enter'){\n                  this.Signin()\n                }\n              }} onChange={evt => this.updatePasswordInputValue(evt)} placeholder=\"Enter your NOOXY password\" className=\"ChPage-Sender-Input\"></input>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"NoService-Page-Block\">\n          <div className=\"NoService-Page-Row\"  onClick={this.Signin}>\n\n            <div className=\"NoService-Page-Row-Text\">\n              <h2>{\"Done\"}</h2>\n              <p> {\"sign me in\"}</p>\n            </div>\n          </div>\n          <a href={this.props.SignupURL} target=\"_blank\">\n            <div className=\"NoService-Page-Row\">\n              <div className=\"NoService-Page-Row-Text\">\n                <h2>{\"Siginup\"}</h2>\n                <p> {\"Signup a NoService account\"}</p>\n              </div>\n            </div>\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport class PasswordPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      password: null\n    }\n    this.Signin = ()=> {\n      this.props.NSc.getImplementationModule((err, implement_module)=>{\n      implement_module.getDefaultClientConnProfile((err, connprofile) => {\n        let _data = {\n          m: 'PW',\n          d: {\n            t: getQueryVariable('authtoken'),\n            v: this.state.password\n          }\n        }\n        implement_module.sendRouterData(connprofile, 'AU', 'rs', _data);\n        setTimeout(this.props.onFinish, 500);\n      });\n    });\n    };\n  }\n\n  updatePasswordInputValue(evt) {\n    this.setState({\n      password: evt.target.value\n    });\n  }\n\n  componentDidMount(){\n    this.password.focus();\n  }\n\n  render() {\n    return(\n      <div className=\"NoService-Page\">\n        <div className=\"NoService-Page-Block\">\n          <div className=\"NoService-Page-Row\">\n            <div className=\"NoService-Page-Row-Text\">\n              <h1>{\"Enter your Password\"}</h1>\n              <p> {\"In order to access this service. You must enter your password of your account.\"}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"NoService-Page-Block\">\n          <div className=\"NoService-Page-Row\">\n            <div className=\"NoService-Page-Row-Text\">\n              <h2>{\"Username\"}</h2>\n              <p>{this.props.NSc.returnUserName()?this.props.NSc.returnUserName():'null'}</p>\n            </div>\n          </div>\n          <div className=\"NoService-Page-Row\">\n            <div className=\"NoService-Page-Row-Text\">\n              <h2>{\"Password\"}</h2>\n              <input ref={(input) => { this.password = input; }} onKeyPress={(event)=> {\n                if(event.key == 'Enter'){\n                  this.Signin()\n                }\n              }} type=\"password\" onChange={evt => this.updatePasswordInputValue(evt)} placeholder=\"Enter your NOOXY password\" className=\"ChPage-Sender-Input\"></input>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"NoService-Page-Block\">\n          <div className=\"NoService-Page-Row\"  onClick={this.Signin}>\n            <div className=\"NoService-Page-Row-Text\">\n              <h2>{\"Done\"}</h2>\n              <p> {\"This is my password.\"}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}